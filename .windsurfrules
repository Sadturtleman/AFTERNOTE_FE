# ğŸš€ Android Project Rules (Windsurf)

## ğŸ“‹ Project Context
- **Project Type**: Android App (Kotlin, Jetpack Compose)
- **Architecture**: Clean Architecture (Data, Domain, Presentation Layers)
- **Dependency Injection**: Hilt
- **Navigation**: Navigation Compose (Type-safe with kotlinx.serialization)
- **Code Quality**: Detekt
- **JDK**: JDK 21 (Eclipse Adoptium)

---

# ğŸ›¡ï¸ CRITICAL SYSTEM INSTRUCTIONS (ALWAYS ACTIVE)

## Git & Workflow Rules (í•­ìƒ ì ìš©)

### Git Operations - CRITICAL
**ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì»¤ë°‹ ë˜ëŠ” í‘¸ì‹œë¥¼ ìš”ì²­í•˜ì§€ ì•Šìœ¼ë©´ ì ˆëŒ€ ì»¤ë°‹í•˜ê±°ë‚˜ í‘¸ì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.**

1. **ì»¤ë°‹ ê¸ˆì§€ ì›ì¹™**
   - ì‚¬ìš©ìê°€ "ì»¤ë°‹í•´", "commit", "git commit" ë“± ëª…ì‹œì ìœ¼ë¡œ ì»¤ë°‹ì„ ìš”ì²­í•˜ì§€ ì•Šìœ¼ë©´ ì»¤ë°‹í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
   - ì½”ë“œ ë³€ê²½ë§Œ í•˜ê³  ì»¤ë°‹ì€ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤

2. **í‘¸ì‹œ ê¸ˆì§€ ì›ì¹™**
   - ì‚¬ìš©ìê°€ "í‘¸ì‹œí•´", "push", "git push" ë“± ëª…ì‹œì ìœ¼ë¡œ í‘¸ì‹œë¥¼ ìš”ì²­í•˜ì§€ ì•Šìœ¼ë©´ í‘¸ì‹œí•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
   - **ê²€ì¦ ì ˆì°¨**: í‘¸ì‹œ ëª…ë ¹ ìƒì„± ì „, í˜„ì¬ ë¸Œëœì¹˜ê°€ `main`/`develop`ì´ ì•„ë‹Œì§€ **ë°˜ë“œì‹œ ë¨¼ì € ê²€ì¦** (`git branch --show-current`)
   - ë§Œì•½ `main`ì´ë‚˜ `develop`ì´ë¼ë©´ ì‘ì—…ì„ ì¤‘ë‹¨í•˜ê³  ê²½ê³  ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ì‹œì˜¤

3. **ë³‘í•© ì „ëµ (Merge Strategy) - Critical**
   ì‚¬ìš©ìê°€ "ë©”ì¸ì— ë³‘í•©í•´" ë˜ëŠ” "ë©”ì¸ê³¼ ë³‘í•©í•´"ë¼ê³  ìš”ì²­í•œ ê²½ìš°:
   - **1ë‹¨ê³„**: í˜„ì¬ ë¸Œëœì¹˜ì— ì›ê²© mainì˜ ìµœì‹  ë³€ê²½ì‚¬í•­ì„ ë¨¼ì € ê°€ì ¸ì™€ì„œ ë³‘í•© (`git fetch origin main && git merge origin/main`)
   - **2ë‹¨ê³„**: ì¶©ëŒì´ ìˆìœ¼ë©´ í•´ê²°í•˜ê³ , ë¹Œë“œ í™•ì¸ì€ ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•œ ê²½ìš°ì—ë§Œ ì‹¤í–‰
   - **3ë‹¨ê³„**: ë¬¸ì œê°€ ì—†ì„ ë•Œë§Œ main ë¸Œëœì¹˜ë¡œ ì²´í¬ì•„ì›ƒí•˜ì—¬ í˜„ì¬ ë¸Œëœì¹˜ë¥¼ ë³‘í•©
   - **4ë‹¨ê³„**: main ë¸Œëœì¹˜ì— í‘¸ì‹œ
   - **ì›ì¹™**: "ë¨¼ì € í˜„ì¬ ë¸Œëœì¹˜ì— mainì„ ë³‘í•©í•˜ê³ , ë¬¸ì œ ì—†ì„ ë•Œë§Œ mainì— ë°˜ì˜"

### Branch Workflow - CRITICAL
**ë³€ê²½ì‚¬í•­ì€ í•­ìƒ ì£¼ì œì— ë§ëŠ” ë¸Œëœì¹˜ì—ì„œ ì‘ì—…í•´ì•¼ í•©ë‹ˆë‹¤.**

1. **ì‘ì—… ìš”ì²­ ì‹œ ì¦‰ì‹œ ë¸Œëœì¹˜ í™•ì¸ ë° ì „í™˜**
   - ì‘ì—… ìš”ì²­ì„ ë°›ìœ¼ë©´ ë¨¼ì € í˜„ì¬ ë¸Œëœì¹˜ë¥¼ í™•ì¸ (`git branch --show-current`)
   - ì‘ì—… ë‚´ìš©ì— ë§ëŠ” ì ì ˆí•œ ë¸Œëœì¹˜ê°€ ìˆìœ¼ë©´ í•´ë‹¹ ë¸Œëœì¹˜ë¡œ ì²´í¬ì•„ì›ƒ
   - ì ì ˆí•œ ë¸Œëœì¹˜ê°€ ì—†ìœ¼ë©´ ìƒˆë¡œ ìƒì„±í•˜ê³  ì²´í¬ì•„ì›ƒ
   - **ì´ ì‘ì—…ì€ ì½”ë“œ ìƒì„±/ìˆ˜ì • ì „ì— ë°˜ë“œì‹œ ìˆ˜í–‰í•´ì•¼ í•©ë‹ˆë‹¤**

2. **ë¸Œëœì¹˜ ì„ íƒ ê¸°ì¤€**
   - ìƒˆë¡œìš´ ê¸°ëŠ¥ ì¶”ê°€ â†’ `feat/{feature-name}`
   - ë²„ê·¸ ìˆ˜ì • â†’ `fix/{bug-description}`
   - ë¬¸ì„œ ìˆ˜ì • â†’ `docs/{document-name}`
   - ì„¤ì •/ë„êµ¬ ë³€ê²½ â†’ `chore/{tool-name}`
   - ë¦¬íŒ©í† ë§ â†’ `refactor/{component-name}`

3. **ë¸Œëœì¹˜ ì •ë¦¬**
   - í‘¸ì‹œ ì™„ë£Œ í›„ mainì— ë³‘í•©ëœ ë¡œì»¬ ë¸Œëœì¹˜ ìë™ ì‚­ì œ
   - ì›ê²© ë¸Œëœì¹˜ë„ ì •ë¦¬

### Build Rules - CRITICAL
**ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•˜ì§€ ì•Šìœ¼ë©´ ë¹Œë“œë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ**
- Android Studioì™€ ë™ì‹œ ì‚¬ìš© ì‹œ íŒŒì¼ ì ê¸ˆ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŒ
- ë¹Œë“œê°€ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©ìì—ê²Œ ìš”ì²­í•˜ê±°ë‚˜, ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ "ë¹Œë“œí•´", "build", "ì»´íŒŒì¼ í™•ì¸í•´" ë“±ì„ ìš”ì²­í•œ ê²½ìš°ì—ë§Œ ì‹¤í–‰

---

# ğŸ“± Tech Stack Rules

## Conditional Rules
- **IF user is editing `*.kt` files**: Apply Kotlin/Android/Compose rules strictly
- **IF user is editing `*.gradle.kts` files**: Apply dependency management rules strictly
- **IF user asks about UI/Layout/Compose**: Refer to the "Jetpack Compose Rules" section
- **IF user performs git operations**: STRICTLY follow "Git Policy" section
- **IF user is working on architecture/domain/data layers**: Refer to "Clean Architecture Rules"

## Jetpack Compose Rules

### Composable Functions
1. **State Hoisting** - CRITICAL
   - ìƒíƒœ(`State`)ëŠ” í˜¸ì¶œë¶€ë¡œ ëŒì–´ì˜¬ë¦¬ê³ , Composableì€ ìƒíƒœë¥¼ ì¸ìë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤ (Stateless ì§€í–¥)
   - **ì™„ì „í•œ State Hoisting**: í™”ë©´ ë‚´ë¶€ì˜ **ëª¨ë“  ìƒíƒœ**(íƒ­ ì„ íƒ, ë„¤ë¹„ê²Œì´ì…˜ ì•„ì´í…œ ì„ íƒ ë“±)ëŠ” ViewModelë¡œ ì´ë™í•´ì•¼ í•©ë‹ˆë‹¤
   - **ë¡œì»¬ ìƒíƒœ ê¸ˆì§€**: Composable ë‚´ë¶€ì—ì„œ `remember { mutableStateOf() }`ë¡œ ìƒíƒœë¥¼ ê´€ë¦¬í•˜ì§€ ë§ê³ , ViewModelì˜ Stateë¡œ ê´€ë¦¬í•˜ì„¸ìš”

2. **Lifecycle-aware State Collection**
   - **âŒ Deprecated**: `collectAsState()` ì‚¬ìš© ê¸ˆì§€ (ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ìœ„í—˜)
   - **âœ… ê¶Œì¥**: `androidx.lifecycle.compose.collectAsStateWithLifecycle()` ì‚¬ìš©
   - **Import**: `import androidx.lifecycle.compose.collectAsStateWithLifecycle` (í•„ìˆ˜)

3. **Modifier**
   - ëª¨ë“  Composable í•¨ìˆ˜ëŠ” `modifier: Modifier = Modifier`ë¥¼ ì²« ë²ˆì§¸ ì„ íƒì  íŒŒë¼ë¯¸í„°ë¡œ ë°›ì•„ì•¼ í•©ë‹ˆë‹¤

4. **Preview (í•„ìˆ˜)**
   - **ëª¨ë“  public Composable í•¨ìˆ˜ëŠ” ë°˜ë“œì‹œ `@Preview` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œ Preview í•¨ìˆ˜ë¥¼ í¬í•¨í•´ì•¼ í•©ë‹ˆë‹¤**
   - Preview í•¨ìˆ˜ëŠ” `private`ìœ¼ë¡œ ì„ ì–¸í•˜ê³ , `@Preview(showBackground = true)`ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤

5. **Rem-based Responsive Design**
   - **ì»´í¬ë„ŒíŠ¸ í¬ê¸°**: í”¼ê·¸ë§ˆì˜ dp ê°’ì„ ê·¸ëŒ€ë¡œ ì‚¬ìš© (ì˜ˆ: `height(56.dp)`, `width(350.dp)`)
   - **Padding ì§€ì–‘, Spacer ì‚¬ìš©**: ì»´í¬ë„ŒíŠ¸ì— `Modifier.padding()`ì„ ì§ì ‘ ì ìš©í•˜ì§€ ë§ê³ , `Spacer`ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ê²©ì„ í‘œí˜„
   - **í° ê°„ê²©ì€ weightê³¼ Arrangementë¡œ í•´ê²°**: padding ê°’ì´ í° ê²½ìš°(24dp ì´ìƒ) `Spacer(Modifier.weight())` ë˜ëŠ” `Arrangement.SpaceBetween` ë“±ìœ¼ë¡œ í•´ê²°
   - **í™”ë©´ ê°€ì¥ìë¦¬ paddingë§Œ ê³ ì •ê°’ í—ˆìš©**: ì¼ê´€ì„± ìœ ì§€ (ì˜ˆ: `padding(horizontal = 20.dp)`)

6. **State Holder Pattern (Cognitive Complexity í•´ê²°)**
   - **ëª©í‘œ**: SonarQube ì¸ì§€ ë³µì¡ë„(Cognitive Complexity)ë¥¼ 15 ì´í•˜ë¡œ ìœ ì§€
   - **í•µì‹¬ ì›ì¹™**: "ë¡œì§ê³¼ ìƒíƒœë¥¼ Composableì—ì„œ ë¶„ë¦¬í•´ë‚´ëŠ” ê²ƒ(State Holder íŒ¨í„´)"
   - **í•„ìˆ˜ ì ìš© ê·œì¹™**:
     1. State í´ë˜ìŠ¤ ìƒì„±: ëª¨ë“  ìƒíƒœ ë³€ìˆ˜ì™€ ë¡œì§ì„ `@Stable` í´ë˜ìŠ¤ë¡œ ê·¸ë£¹í™”
     2. ë¡œì§ ìº¡ìŠí™”: Composable ë‚´ë¶€ì˜ ì¡°ê±´ë¬¸, ëŒë‹¤ ë‚´ë¶€ ì¤‘ì²© ì¡°ê±´ë¬¸ì„ State í´ë˜ìŠ¤ì˜ ë©¤ë²„ í•¨ìˆ˜ë¡œ ì´ë™
     3. Computed Properties: UI ë‚´ ì‚¼í•­ ì—°ì‚°ìë‚˜ ì¡°ê±´ë¬¸ì„ State í´ë˜ìŠ¤ì˜ computed propertyë¡œ ì´ë™
     4. ì½œë°± ëŒë‹¤ ì œê±°: Composable ë‚´ë¶€ì—ì„œ `val create...Callbacks = { ... }` ê°™ì€ ëŒë‹¤ ì •ì˜ ê¸ˆì§€
     5. í•¨ìˆ˜ ì°¸ì¡° ì‚¬ìš©: Stateì˜ ë©”ì„œë“œëŠ” í•¨ìˆ˜ ì°¸ì¡°(`::`)ë¡œ ì „ë‹¬

7. **Parameter Refactoring Pattern (LongParameterList í•´ê²°)**
   - **âš ï¸ Critical: @SuppressëŠ” ìµœí›„ì˜ ìˆ˜ë‹¨**
   - **ì½œë°± ê·¸ë£¹í™”**: 3ê°œ ì´ìƒì˜ ì½œë°±ì´ ìˆìœ¼ë©´ Event Interfaceë‚˜ data classë¡œ ë¬¶ê¸°
   - **UI ìƒíƒœ ìº¡ìŠí™”**: `expanded`, `boxWidth` ê°™ì€ UI ìƒíƒœëŠ” State Classë¡œ ë¬¶ê¸°
   - **ì´ˆê¸°ê°’ ì²˜ë¦¬**: `initialShowTextField`, `initialExpandedItemId` ê°™ì€ ì´ˆê¸°ê°’ì€ State ìƒì„±ìë¡œ ì˜®ê¸°ê¸°

8. **Core ì»´í¬ë„ŒíŠ¸ ìµœëŒ€í•œ í™œìš©**
   - `core` ëª¨ë“ˆì˜ ê³µí†µ ì»´í¬ë„ŒíŠ¸(`Header`, `LabeledTextField`, `MessageTextField`, `CustomRadioButton`, `BottomNavigationBar` ë“±)ë¥¼ ìµœëŒ€í•œ ì¬ì‚¬ìš©
   - ì „ì²´ì ì¸ í‹€ì€ ë¹„ìŠ·í•˜ê³  ì„¸ë¶€ ë””ìì¸ë§Œ ë‹¤ë¥¸ ê²½ìš°, ë³„ë„ ì»´í¬ë„ŒíŠ¸ ëŒ€ì‹  **ì˜¤ë²„ë¡œë”©**ìœ¼ë¡œ ì²˜ë¦¬

9. **Slot API íŒ¨í„´ (Composition over Inheritance)**
   - ìœ ì‚¬í•œ êµ¬ì¡°ë¥¼ ê°€ì§„ ì»´í¬ë„ŒíŠ¸ë“¤ì„ í†µì¼í•  ë•ŒëŠ” **ìƒì†ì´ ì•„ë‹Œ í•©ì„±(Composition)**ì„ ì‚¬ìš©
   - ê³µí†µ ê»ë°ê¸°ë¥¼ ì œê³µí•˜ê³ , ë‚´ìš©ë¬¼ì€ Slot(`content: @Composable () -> Unit`)ìœ¼ë¡œ ì£¼ì…ë°›ëŠ” ë°©ì‹

## Clean Architecture Rules

### Layer Separation (ê³„ì¸µ ë¶„ë¦¬)
ëª¨ë“  Feature ëª¨ë“ˆì€ ì•„ë˜ 3ê³„ì¸µì„ ì—„ê²©íˆ ì¤€ìˆ˜í•´ì•¼ í•©ë‹ˆë‹¤.

1. **Domain Layer** (Pure Kotlin)
   - ì™¸ë¶€ ì˜ì¡´ì„±(Android Framework, Data Layer ë“±)ì„ ê°€ì§€ì§€ ì•ŠìŠµë‹ˆë‹¤
   - `Entity`, `Repository Interface`, `UseCase`ê°€ ìœ„ì¹˜í•©ë‹ˆë‹¤
   - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì˜ í•µì‹¬ì…ë‹ˆë‹¤

2. **Data Layer**
   - Domain Layerì˜ `Repository`ë¥¼ êµ¬í˜„(`Impl`)í•©ë‹ˆë‹¤
   - API í˜¸ì¶œ, DB ì ‘ê·¼, DTO ë§¤í•‘ì„ ë‹´ë‹¹í•©ë‹ˆë‹¤
   - `Mapper`ë¥¼ í†µí•´ DTOë¥¼ Domain Entityë¡œ ë³€í™˜í•˜ì—¬ ë°˜í™˜í•©ë‹ˆë‹¤

3. **Presentation Layer**
   - UI (`Screen`, `Component`)ì™€ ìƒíƒœ ê´€ë¦¬ (`ViewModel`)ë¥¼ ë‹´ë‹¹í•©ë‹ˆë‹¤
   - Domain Layerì˜ `UseCase`ë¥¼ ì£¼ì…ë°›ì•„ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤
   - `UiModel`ì„ ì •ì˜í•˜ì—¬ UIì— í•„ìš”í•œ ë°ì´í„°ë§Œ ê°€ê³µí•´ ë³´ì—¬ì¤ë‹ˆë‹¤

### Dependency Flow (ì˜ì¡´ì„± ë°©í–¥)
- **Correct**: Presentation â†’ Domain â† Data
- **Incorrect**: Domain â†’ Data (X), Domain â†’ Presentation (X)

### Component Location Rules (ì»´í¬ë„ŒíŠ¸ ìœ„ì¹˜ ê²°ì • ê·œì¹™) - Critical
- **í•µì‹¬ ì›ì¹™**: Feature ëª¨ë“ˆ ê°„ ì§ì ‘ ì˜ì¡´ì€ ì ˆëŒ€ ê¸ˆì§€ë©ë‹ˆë‹¤
- **Core ëª¨ë“ˆë¡œ ì´ë™ ê¸°ì¤€**:
  * 2ê°œ ì´ìƒì˜ Featureì—ì„œ ì‚¬ìš©ë  ê°€ëŠ¥ì„±ì´ ìˆëŠ”ê°€? (YES)
  * ë„ë©”ì¸ ë¡œì§ì´ë‚˜ íŠ¹ì • í™”ë©´ ìƒíƒœì— ì˜ì¡´í•˜ì§€ ì•ŠëŠ”ê°€? (ìˆœìˆ˜ UI ì»´í¬ë„ŒíŠ¸ì¸ê°€? YES)
  * ë¸Œëœë“œ ì•„ì´ë´í‹°í‹°(ë””ìì¸ ì‹œìŠ¤í…œ)ì˜ ì¼ë¶€ì¸ê°€? (ë²„íŠ¼, í…ìŠ¤íŠ¸ í•„ë“œ, í—¤ë” ë“±)
- **Feature ë‚´ë¶€ì— ìœ ì§€**: í•´ë‹¹ Featureì˜ ì—¬ëŸ¬ í™”ë©´ì—ì„œë§Œ ê³µìœ ë˜ê³ , ë‹¤ë¥¸ Featureì—ì„œëŠ” ì ˆëŒ€ ì“°ì¼ ì¼ì´ ì—†ëŠ” ê²½ìš°

## Android/Kotlin Coding Rules

### Import Rules (ì„í¬íŠ¸ ê·œì¹™) - Critical

1. **Always Include Full Import Statements**
   - **ALWAYS include full import statements** for every class, function, and extension used in the code snippet
   - Android StudioëŠ” ì¢…ì¢… í™•ì¥ í•¨ìˆ˜ì™€ Compose delegateì˜ ìë™ ì„í¬íŠ¸ì— ì‹¤íŒ¨í•©ë‹ˆë‹¤

2. **Explicitly Import Extension Functions**
   - **Never assume extension functions are globally available.** Always add the import line explicitly
   - ë‹¤ìŒ í™•ì¥ í•¨ìˆ˜ë“¤ì€ ìë™ ì„í¬íŠ¸ë˜ì§€ ì•Šìœ¼ë¯€ë¡œ ëª…ì‹œì ìœ¼ë¡œ ì„í¬íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤:
     - `androidx.core.view.isVisible` â†’ `import androidx.core.view.isVisible`
     - `androidx.lifecycle.compose.collectAsStateWithLifecycle` â†’ `import androidx.lifecycle.compose.collectAsStateWithLifecycle` (**í•„ìˆ˜**: StateFlow ìˆ˜ì§‘ ì‹œ)
     - `androidx.lifecycle.viewmodel.compose.viewModel` â†’ `import androidx.lifecycle.viewmodel.compose.viewModel` (**í•„ìˆ˜**: ViewModel ì£¼ì… ì‹œ)
     - `androidx.compose.ui.platform.LocalContext` â†’ `import androidx.compose.ui.platform.LocalContext`
     - `androidx.compose.ui.platform.LocalDensity` â†’ `import androidx.compose.ui.platform.LocalDensity`
     - `androidx.compose.ui.platform.LocalFocusManager` â†’ `import androidx.compose.ui.platform.LocalFocusManager`
   - **ì¤‘ìš”**: `androidx.hilt.navigation.compose.hiltViewModel`ì€ **ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”** (Deprecated)

3. **Jetpack Compose Imports**
   - **Always import `androidx.compose.runtime.*` delegates when using `by` keyword:**
     - `import androidx.compose.runtime.getValue`
     - `import androidx.compose.runtime.setValue`
     - `import androidx.compose.runtime.remember`
   - **Avoid wildcard imports** (e.g., `import androidx.compose.material3.*`) unless strictly necessary

4. **Standard Import Rules**
   - **NEVER import `android.R`**: ì ˆëŒ€ `android.R`ì„ ì„í¬íŠ¸í•˜ì§€ ë§ˆì„¸ìš”. í•­ìƒ ì• í”Œë¦¬ì¼€ì´ì…˜ íŒ¨í‚¤ì§€ì˜ `R` í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì„¸ìš” (ì˜ˆ: `com.kuit.afternote.R`)
   - **NO Wildcard Imports**: `import java.util.*` ê°™ì€ ì™€ì¼ë“œì¹´ë“œ ì„í¬íŠ¸ë¥¼ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”. ëª…ì‹œì ìœ¼ë¡œ íŠ¹ì • í´ë˜ìŠ¤ë¥¼ ì„í¬íŠ¸í•˜ì„¸ìš”
   - **Prefer AndroidX**: í•­ìƒ ë ˆê±°ì‹œ `android.support.*` íŒ¨í‚¤ì§€ë³´ë‹¤ `androidx.*` íŒ¨í‚¤ì§€ë¥¼ ì„ í˜¸í•˜ì„¸ìš”

5. **No Hallucinated Imports**
   - **Do not invent extension functions** that do not exist in standard AndroidX libraries
   - **Verify existence**: Before generating code, verify that all imported classes/functions exist in standard Android SDK or commonly used libraries

### Dependency Injection (Hilt)

#### ViewModel ì£¼ì… (Compose)
- **ì ˆëŒ€ `androidx.hilt.navigation.compose.hiltViewModel()`ì„ ì‚¬ìš©í•˜ì§€ ë§ˆì„¸ìš”**
- **Deprecated**: `hiltViewModel()`ì€ Hilt 1.2.0+ ë° Navigation 2.8.0+ì—ì„œ deprecated ë˜ì—ˆìŠµë‹ˆë‹¤
- **ì˜¬ë°”ë¥¸ ë°©ë²•**: `androidx.lifecycle.viewmodel.compose.viewModel()`ì„ ì‚¬ìš©í•˜ì„¸ìš”
- `@HiltViewModel`ì´ ë¶™ì€ í´ë˜ìŠ¤ëŠ” `viewModel()` í•¨ìˆ˜ê°€ ìë™ìœ¼ë¡œ Hilt Factoryë¥¼ ì‚¬ìš©í•˜ì—¬ ì£¼ì…ì„ ì²˜ë¦¬í•©ë‹ˆë‹¤
- **Import**: `import androidx.lifecycle.viewmodel.compose.viewModel`

#### Constructor Injection
- ê°€ëŠ¥í•œ ëª¨ë“  í´ë˜ìŠ¤(`RepositoryImpl`, `UseCase`, `ViewModel`)ëŠ” ìƒì„±ì ì£¼ì…(`@Inject constructor`)ì„ ì‚¬ìš©í•©ë‹ˆë‹¤
- `@HiltViewModel`ì„ ì‚¬ìš©í•˜ê³ , `SavedStateHandle`ì´ í•„ìš”í•œ ê²½ìš° ìƒì„±ìì— í¬í•¨í•©ë‹ˆë‹¤

### Navigation Rules

1. **Type-Safe Navigation**
   - ëª¨ë“  RouteëŠ” `kotlinx.serialization`ì˜ `@Serializable` ì–´ë…¸í…Œì´ì…˜ì„ ì‚¬ìš©í•œ `sealed interface` ë˜ëŠ” `sealed class`ë¡œ ì •ì˜í•©ë‹ˆë‹¤
   - ë¬¸ìì—´ í•˜ë“œì½”ë”©(ì˜ˆ: "home/{id}")ì€ ê¸ˆì§€í•©ë‹ˆë‹¤

2. **Domain Navigation (ë„ë©”ì¸ ê°„ ë„¤ë¹„ê²Œì´ì…˜)**
   - ë‹¤ë¥¸ ë„ë©”ì¸ìœ¼ë¡œ navigate í•  ë•ŒëŠ” ì¸í„°í˜ì´ìŠ¤ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”
   - navgraph ë‚´ë¶€ì—ì„œ ë‹¤ë¥¸ ë„ë©”ì¸ì„ ì§ì ‘ ì•„ëŠ” ê²ƒì€ ì§€ì–‘í•©ë‹ˆë‹¤
   - ê° ë„ë©”ì¸ì€ ìì‹ ì˜ Navigator ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•˜ê³ , êµ¬í˜„ì²´ëŠ” app ë ˆë²¨ì—ì„œ ìƒì„±í•©ë‹ˆë‹¤

### Kotlin & Compose Style
- ê°€ëŠ¥í•œ í•œ `var`ë³´ë‹¤ `val`ì„ ì‚¬ìš©í•˜ì„¸ìš”
- Jetpack Composeì—ì„œ `Modifier` ì²´ì´ë‹ ìˆœì„œë¥¼ ì„ í˜¸í•˜ì„¸ìš”: Size -> Layout -> Drawing -> Event Listeners
- ê¸°ë³¸ì ìœ¼ë¡œ Material3 ë””ìì¸ ì‹œìŠ¤í…œ ì»´í¬ë„ŒíŠ¸ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”
- Coroutines: ViewModelì—ì„œëŠ” `viewModelScope`ë¥¼, Fragments/Activitiesì—ì„œëŠ” `LifecycleScope`ë¥¼ ì‚¬ìš©í•˜ì„¸ìš”

### Resource Management

#### Drawable
- ì•„ì´ì½˜ì€ `Icon` ì»´í¬ì €ë¸”ì„ ì‚¬ìš©í•˜ê³ , `contentDescription`ì„ ë°˜ë“œì‹œ ì§€ì •í•©ë‹ˆë‹¤
- ì´ë¯¸ì§€ ë¦¬ì†ŒìŠ¤ ì‚¬ìš© ì‹œ `painterResource(R.drawable.name)`ì„ ì‚¬ìš©í•©ë‹ˆë‹¤
- SVGë‚˜ PNGë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ë‹¤ ì“¸ ë•ŒëŠ” `Modifier.size()`ë¥¼ ì„¤ì •í•˜ì§€ ë§ì•„ì•¼ í•©ë‹ˆë‹¤
- drawable íŒŒì¼ì— ì´ë¯¸ ì •ì˜ëœ í¬ê¸°ë¥¼ ê·¸ëŒ€ë¡œ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤

#### Strings
- ëª¨ë“  UI í…ìŠ¤íŠ¸ëŠ” `strings.xml`ì— ì •ì˜í•˜ì—¬ ì‚¬ìš©í•©ë‹ˆë‹¤ (`stringResource(R.string.key)`)
- í•˜ë“œì½”ë”©ëœ ë¬¸ìì—´ì€ ê¸ˆì§€í•©ë‹ˆë‹¤

---

# ğŸ§¹ Code Quality & Formatting

## Role & Goal
You are a Senior Android Developer with strict adherence to Kotlin coding standards and static analysis rules.
**Goal**: Generate code that passes `ktlint` (formatting) and `detekt` (code smells) checks on the first try, avoiding any pre-commit hook failures.

## Critical Instructions for Code Generation

### 1. Context & Config Awareness
- **Before generating code, briefly scan `.editorconfig` and `detekt.yml` in the project root** if they exist to understand custom indentations or max line lengths
- If no config is found, default to **Standard Kotlin Style Guide**

### 2. Import Rules (Strict Enforcement)
- **NO Wildcard Imports**: Never use `import foo.*`. Always import individual classes
- **Import Order**: Imports must be ordered in lexicographic order without any empty lines in-between with "java", "javax", "kotlin" and aliases in the end

### 3. Ktlint Compliance (Formatting) - Critical

#### Formatting Rules
- **Indentation**: Use **4 spaces** for indentation. Do not use tabs
- **Spacing**:
  - Put spaces around operators (`+`, `-`, `=`, etc.)
  - Put a space before `{` and after `if`, `for`, `while`
  - Example: `if (condition) {` âœ…, `if(condition){` âŒ
- **Trailing Comma**: Use trailing commas in multi-line parameter lists or value arguments (if Kotlin version supports it)
- **Final Newline**: Ensure every file ends with a single newline character
- **Blank Lines**: Limit consecutive blank lines to one
- **Line Breaks**: Avoid unexpected newlines before `.` in chained calls. Keep chained modifiers on the same line or properly formatted

#### Common Ktlint Violations to Avoid
- Unexpected newline before `.` in modifier chains
- Missing newline after `,` in multi-line parameter lists
- Unused imports (always remove unused imports)
- Import ordering violations

### 4. Detekt Compliance (Complexity & Smells) - Critical

#### Function Complexity
- **Function Length**: Keep functions short and focused (aim for < 20 lines). Break down complex logic into helper functions
- **Max Line Length**: Limit lines to 120 characters (or 100 depending on your team's rule). Wrap long chained calls or parameters
- **Long Parameter List**: Functions with more than 10 parameters should use data classes or be refactored
  - **âš ï¸ Critical: @SuppressëŠ” ìµœí›„ì˜ ìˆ˜ë‹¨**
  - **ì ˆëŒ€ ë¨¼ì € ì‹œë„í•´ì•¼ í•  ê²ƒ**: `@Suppress`ë¥¼ ì‚¬ìš©í•˜ê¸° ì „ì— ë°˜ë“œì‹œ ì½”ë“œ êµ¬ì¡° ê°œì„ ì„ ì‹œë„í•´ì•¼ í•©ë‹ˆë‹¤
  - **State Hoisting íŒ¨í„´ ì ìš© ì‹œ íŒŒë¼ë¯¸í„°ê°€ ë§ì•„ì§€ëŠ” ê²½ìš°**:
    * ì½œë°± ê·¸ë£¹í™”: 3ê°œ ì´ìƒì˜ ì½œë°±ì´ ìˆìœ¼ë©´ Event Interfaceë‚˜ data classë¡œ ë¬¶ê¸°
    * UI ìƒíƒœ ìº¡ìŠí™”: `expanded`, `boxWidth` ê°™ì€ UI ìƒíƒœëŠ” State Classë¡œ ë¬¶ê¸°
    * ì´ˆê¸°ê°’ ì²˜ë¦¬: `initialShowTextField`, `initialExpandedItemId` ê°™ì€ ì´ˆê¸°ê°’ì€ State ìƒì„±ìë¡œ ì˜®ê¸°ê¸°
  - **TooManyFunctions ê²½ê³  ë°œìƒ ì‹œ**:
    * ë¶ˆí•„ìš”í•œ í•¨ìˆ˜ ì œê±°: ì‚¬ìš©ë˜ì§€ ì•ŠëŠ” í—¬í¼ í•¨ìˆ˜ë‚˜ ì¤‘ë³µ í•¨ìˆ˜ ì œê±°
    * ì±…ì„ ë¶„ë¦¬: Manager í´ë˜ìŠ¤ë¡œ ë¡œì§ ìœ„ì„ ê³ ë ¤
    * Private í•¨ìˆ˜ í™œìš©: ì™¸ë¶€ì— ë…¸ì¶œë  í•„ìš” ì—†ëŠ” í•¨ìˆ˜ëŠ” `private`ìœ¼ë¡œ ë³€ê²½

#### Code Smells
- **Magic Numbers**: Avoid hardcoded numbers. Extract them to `const val` or strict named constants, except for obvious values like 0, 1, or -1
- **Nested Blocks**: Avoid deep nesting (max depth: 4). Use guard clauses (`return` early) to flatten `if-else` structures
- **Empty Blocks**: Never leave `catch` or `if` blocks empty. Add a comment explaining why it's empty or handle the exception properly
- **Top-Level Declarations**: Group constants, extension functions, and classes logically

### 5. Naming Convention
- Composable: `PascalCase` (ì˜ˆ: `LoginScreen`)
- ViewModel: `PascalCase` + `ViewModel` (ì˜ˆ: `LoginViewModel`)
- Repository/UseCase: `PascalCase` + `Repository`/`UseCase` (ì˜ˆ: `LoginRepository`, `LoginUseCase`)
- Route: `PascalCase` + `Route` (ì˜ˆ: `LoginRoute`)

### 6. Named Arguments í•„ìˆ˜
í•¨ìˆ˜ í˜¸ì¶œ ì‹œ íŒŒë¼ë¯¸í„° ì´ë¦„ ëª…ì‹œ (ì•„ë˜ ì¡°ê±´ í•´ë‹¹ ì‹œ):
- ì¸ìê°€ 3ê°œ ì´ìƒì¸ ê²½ìš°
- Boolean, Null, ìˆ«ì ë¦¬í„°ëŸ´ì´ í¬í•¨ëœ ê²½ìš°
- ê°™ì€ íƒ€ì…ì˜ ì¸ìê°€ ì—°ì†ë˜ëŠ” ê²½ìš°
- Compose í•¨ìˆ˜ í˜¸ì¶œ ì‹œ (modifier ì œì™¸í•œ ëª¨ë“  ì¸ì)
- ì˜ˆ: `Recipient(id = "1", name = "ê¹€ì§€ì€", label = "ì¹œêµ¬")`, `FontWeight.Medium` (NOT `FontWeight(500)`)

## Testing Rules

### Unit Test
- `Domain Layer`(`UseCase`)ì™€ `ViewModel`ì€ 100%ì— ê°€ê¹Œìš´ í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ë¥¼ ì§€í–¥í•©ë‹ˆë‹¤
- `MockK`ë¥¼ ì‚¬ìš©í•˜ì—¬ ì˜ì¡´ì„±ì„ ëª¨í‚¹í•©ë‹ˆë‹¤

### Naming
- í…ŒìŠ¤íŠ¸ í•¨ìˆ˜ëª…ì€ í–‰ìœ„ë¥¼ ëª…í™•íˆ ê¸°ìˆ í•©ë‹ˆë‹¤ (ì˜ˆ: `fetchUser_whenSuccess_returnsUser`)

### Test Code Verification
ì½”ë“œë¥¼ ìƒì„±í•˜ê±°ë‚˜ ìˆ˜ì •í•  ë•Œë§ˆë‹¤ **ë°˜ë“œì‹œ** ë‹¤ìŒì„ í™•ì¸í•˜ê³  í•„ìš”í•˜ë©´ í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì¶”ê°€í•´ì•¼ í•©ë‹ˆë‹¤:

#### UseCase ì¶”ê°€/ìˆ˜ì • ì‹œ
- **ìœ„ì¹˜**: `app/src/test/java/com/kuit/afternote/feature/{feature_name}/domain/usecase/`
- **íŒŒì¼ëª…**: `{UseCaseName}Test.kt`
- **ë‚´ìš©**: UseCaseì˜ ëª¨ë“  ë©”ì„œë“œì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

#### ViewModel ì¶”ê°€/ìˆ˜ì • ì‹œ
- **ìœ„ì¹˜**: `app/src/test/java/com/kuit/afternote/feature/{feature_name}/presentation/viewmodel/`
- **íŒŒì¼ëª…**: `{ViewModelName}Test.kt`
- **ë‚´ìš©**: ViewModelì˜ ìƒíƒœ ë³€ê²½, ì´ë²¤íŠ¸ ì²˜ë¦¬ì— ëŒ€í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±

## Documentation

### Public API (í•„ìˆ˜)
**ëª¨ë“  `public` í•¨ìˆ˜ë‚˜ í´ë˜ìŠ¤(íŠ¹íˆ `UseCase`, `Repository` ì¸í„°í˜ì´ìŠ¤)ì—ëŠ” ë°˜ë“œì‹œ KDoc í˜•ì‹ì˜ ì£¼ì„ì„ ì‘ì„±í•´ì•¼ í•©ë‹ˆë‹¤**
- Detektì˜ `undocumented-public-function` ê·œì¹™ì„ ì¤€ìˆ˜í•˜ê¸° ìœ„í•¨ì…ë‹ˆë‹¤
- KDocì€ í•¨ìˆ˜ì˜ ì—­í• , íŒŒë¼ë¯¸í„°, ë°˜í™˜ê°’ì„ ëª…í™•íˆ ì„¤ëª…í•´ì•¼ í•©ë‹ˆë‹¤
- ì˜ˆì™¸: ë‹¨ìˆœí•œ data classë‚˜ enumì€ ì„ íƒì ìœ¼ë¡œ ì‘ì„± ê°€ëŠ¥

### Complex Logic
ë³µì¡í•œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë“¤ì–´ê°€ëŠ” ê³³ì—ëŠ” ì£¼ì„ì„ í†µí•´ 'ì™œ(Why)' ì´ë ‡ê²Œ êµ¬í˜„í–ˆëŠ”ì§€ ì„¤ëª…í•©ë‹ˆë‹¤

---

# ğŸ”§ General Guidelines

## ê¸°ë³¸ ì›ì¹™

1. **Sycophancy ë°©ì§€ (ì•„ì²¨ ê¸ˆì§€) - Critical**
   - ì‚¬ìš©ìê°€ ë‹µë³€ì„ ì§ˆë¬¸í•˜ê±°ë‚˜ ë°˜ë¬¸í•  ë•Œ, ì¦‰ì‹œ ì‚¬ê³¼í•˜ê±°ë‚˜ ë‹µë³€ì„ ë³€ê²½í•˜ì§€ ë§ ê²ƒ
   - ë¨¼ì € ìì‹ ì˜ ë…¼ë¦¬ì™€ ê·¼ê±°ë¥¼ ì„¤ëª…í•  ê²ƒ
   - ì‚¬ì‹¤ì ìœ¼ë¡œ í‹€ë ¸ì„ ë•Œë§Œ ì‚¬ê³¼í•  ê²ƒ

2. **Ask Mode ì „ìš© ê·œì¹™ - Critical**
   - **STRICTLY ANSWER ONLY**: Ask ëª¨ë“œì—ì„œëŠ” íŒŒì¼ ìˆ˜ì •ì„ ì ˆëŒ€ ì‹œë„í•˜ì§€ ë§ ê²ƒ
   - **ì§ˆë¬¸ í•´ì„**: ì‚¬ìš©ìì˜ ì§ˆë¬¸ì€ ìˆœìˆ˜í•œ ê¶ê¸ˆì¦(PURE CURIOSITY)ìœ¼ë¡œ í•´ì„í•  ê²ƒ. ì§€ì ì´ë‚˜ ìˆ˜ì • ìš”êµ¬ë¡œ í•´ì„í•˜ì§€ ë§ ê²ƒ
   - **ì‚¬ê³¼ ê¸ˆì§€**: Ask ëª¨ë“œì—ì„œ ì´ì „ ì½”ë“œì— ëŒ€í•´ ì‚¬ê³¼í•˜ì§€ ë§ ê²ƒ. ëª…ì‹œì ìœ¼ë¡œ í‹€ë ¸ë‹¤ê³  ì¦ëª…ë˜ì§€ ì•ŠëŠ” í•œ
   - **ë…¼ë¦¬ ì„¤ëª…**: ì§ˆë¬¸ì— ëŒ€í•´ ë…¼ë¦¬ë¥¼ ì°¨ë¶„íˆ ì„¤ëª…í•  ê²ƒ

3. **ì£¼ì œì— ë§ëŠ” ë¸Œëœì¹˜ì—ì„œ ì‘ì—…**
   - ì‘ì—… ì „ ë°˜ë“œì‹œ ì ì ˆí•œ ë¸Œëœì¹˜ í™•ì¸/ìƒì„± (`feat/`, `fix/`, `docs/` ë“±)

4. **ì‹œë„í•œ í•´ê²°ì±… ë©”ëª¨**
   - ë¬¸ì œ í•´ê²° ì‹œ ì‹œë„í•œ ë°©ë²•ë“¤ì„ ë©”ëª¨í•´ë‘ê¸°
   - ê°™ì€ ì‹¤ìˆ˜ë¥¼ ë°˜ë³µí•˜ì§€ ì•Šê¸° ìœ„í•¨

5. **ë¬¸ì„œí™”**
   - ì¤‘ìš”í•œ ì„¤ì •ì´ë‚˜ í•´ê²° ë°©ë²•ì€ ë¬¸ì„œë¡œ ë‚¨ê¸°ê¸°
   - ë‹¤ë¥¸ íŒ€ì›ì´ë‚˜ ë¯¸ë˜ì˜ ìì‹ ì„ ìœ„í•´

## íŒŒì¼ ë³€ê²½ ì‹œ README ì²´í¬ ê·œì¹™

**íŒŒì¼ì„ ë³€ê²½í•  ë•Œë§ˆë‹¤ README ë³€ê²½ì´ í•„ìš”í•œì§€ ì²´í¬í•˜ê³ , í•„ìš”í•˜ë©´ ë°˜ë“œì‹œ ë³€ê²½í•´ì•¼ í•©ë‹ˆë‹¤**

### ì²´í¬í•´ì•¼ í•  ê²½ìš°
1. ìƒˆë¡œìš´ ì„¤ì •ì´ë‚˜ ë„êµ¬ ì¶”ê°€
2. í”„ë¡œì íŠ¸ êµ¬ì¡° ë³€ê²½
3. ê°œë°œ í™˜ê²½ ìš”êµ¬ì‚¬í•­ ë³€ê²½
4. ë¹Œë“œ/ì‹¤í–‰ ë°©ë²• ë³€ê²½
5. íŠ¸ëŸ¬ë¸”ìŠˆíŒ… ì •ë³´ ì¶”ê°€
6. ì›Œí¬í”Œë¡œìš°ë‚˜ ê·œì¹™ ë³€ê²½

**ëª¨ë“  ë‹µë³€ì´ "ì•„ë‹ˆì˜¤"ê°€ ì•„ë‹ˆë¼ë©´ READMEë¥¼ ì—…ë°ì´íŠ¸í•´ì•¼ í•©ë‹ˆë‹¤**

## Problem Solving & Research Rules

### âš ï¸ Critical: ì‘ì—… ì¤‘ë‹¨ ë° ì¡°ì‚¬ ê·œì¹™

**ì‘ì—… ì¤‘ ë¬¸ì œê°€ ë°œìƒí•˜ê±°ë‚˜ ë§‰íˆëŠ” ê²½ìš°, ì¦‰ì‹œ ì¤‘ë‹¨í•˜ê³  Perplexity í”„ë¡¬í”„íŠ¸ë¥¼ ì œê³µí•´ì•¼ í•©ë‹ˆë‹¤**

### ì‘ì—… ì¤‘ë‹¨ ì¡°ê±´
1. ì˜ˆìƒì¹˜ ëª»í•œ ì˜¤ë¥˜ ë°œìƒ
2. API ë˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©ë²• ë¶ˆí™•ì‹¤
3. ì‹œê°ì  ë¬¸ì œ ë°œìƒ
4. 3íšŒ ì´ìƒ ì‹œë„ ì‹¤íŒ¨

### âš ï¸ Critical: êµ¬ì¡° ë³€ê²½ ì‹œ í•„ìˆ˜ ê²€ì¦ ì ˆì°¨
**íŒŒì¼ ì´ë™, íŒ¨í‚¤ì§€ ë³€ê²½, í´ë˜ìŠ¤ ë¦¬íŒ©í† ë§ ë“± êµ¬ì¡°ì  ë³€ê²½ ì‘ì—… ì‹œ ë°˜ë“œì‹œ ë‹¤ìŒ ì ˆì°¨ë¥¼ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤:**

1. **ë³€ê²½ ì „ ë¹Œë“œ í™•ì¸**: êµ¬ì¡° ë³€ê²½ ì „ì— í˜„ì¬ ìƒíƒœê°€ ë¹Œë“œë˜ëŠ”ì§€ í™•ì¸ - **ë‹¨, ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•œ ê²½ìš°ì—ë§Œ ì‹¤í–‰**
2. **ì‚¬ìš©ì²˜ ì „ì²´ ê²€ìƒ‰**: ì´ë™/ë³€ê²½í•  íŒŒì¼ì´ ì‚¬ìš©ë˜ëŠ” ëª¨ë“  ìœ„ì¹˜ë¥¼ `grep`ìœ¼ë¡œ ê²€ìƒ‰í•˜ì—¬ ë¦¬ìŠ¤íŠ¸ì—…
3. **Import ê²½ë¡œ ì¼ê´„ ë³€ê²½**: ëª¨ë“  ì‚¬ìš©ì²˜ì˜ import ê²½ë¡œë¥¼ í•œ ë²ˆì— ë³€ê²½ (ë‹¨ê³„ì ìœ¼ë¡œ í•˜ì§€ ë§ê³  ì „ì²´ë¥¼ ë¨¼ì € íŒŒì•…)
4. **ë³€ìˆ˜/í•¨ìˆ˜ëª… ë³€ê²½ ì‹œ**: ë³€ìˆ˜ëª…ì´ë‚˜ í•¨ìˆ˜ëª…ì„ ë³€ê²½í•  ë•ŒëŠ” `grep`ìœ¼ë¡œ ëª¨ë“  ì‚¬ìš©ì²˜ í™•ì¸ í›„ ì¼ê´„ ë³€ê²½
5. **ë³€ê²½ í›„ ë¹Œë“œ ê²€ì¦**: íŒŒì¼ ì´ë™/ë³€ê²½ í›„ ë¹Œë“œê°€ í•„ìš”í•œ ê²½ìš° ì‚¬ìš©ìì—ê²Œ ìš”ì²­í•˜ê±°ë‚˜, ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•œ ê²½ìš°ì—ë§Œ ì‹¤í–‰
6. **State/Params í´ë˜ìŠ¤ ì´ë™ ì‹œ**: State í´ë˜ìŠ¤ë‚˜ Params í´ë˜ìŠ¤ë¥¼ ì´ë™í•  ë•ŒëŠ” í•´ë‹¹ í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•˜ëŠ” ëª¨ë“  ì»´í¬ë„ŒíŠ¸ì˜ import ê²½ë¡œë¥¼ í™•ì¸
7. **ì¤‘ë³µ ì œê±° ì‹œ**: ì¤‘ë³µ íŒŒì¼ì„ ì œê±°í•˜ê¸° ì „ì— ì‚¬ìš©ì²˜ë¥¼ ëª¨ë‘ í™•ì¸í•˜ê³ , í•˜ë‚˜ë¡œ í†µí•©í•œ í›„ ëª¨ë“  import ê²½ë¡œë¥¼ ì—…ë°ì´íŠ¸

### Perplexity í”„ë¡¬í”„íŠ¸ ì‘ì„± ìš”ì²­ ì‹œ ê·œì¹™ - Critical
**ì‚¬ìš©ìê°€ "í¼í”Œë ‰ì‹œí‹° í”„ë¡¬í”„íŠ¸ ì‘ì„±í•´" ë˜ëŠ” "Perplexity í”„ë¡¬í”„íŠ¸ ì‘ì„±í•´"ë¼ê³  ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•œ ê²½ìš°:**
- **í”„ë¡¬í”„íŠ¸ ë‚´ìš©ë§Œ ì œê³µ**: í”„ë¡¬í”„íŠ¸ì— ë¶™ì—¬ ë„£ì„ ë‚´ìš© ì™¸ì—ëŠ” ì•„ë¬´ ë§ë„ í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- **ì¶”ê°€ ì„¤ëª… ê¸ˆì§€**: í”„ë¡¬í”„íŠ¸ ì‘ì„± í›„ "ì´ í”„ë¡¬í”„íŠ¸ë¥¼ Perplexityì— ë¶™ì—¬ë„£ìœ¼ì„¸ìš”" ê°™ì€ ì•ˆë‚´ ë¬¸êµ¬ë„ í¬í•¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- **ì½”ë“œ ìˆ˜ì • ê¸ˆì§€**: í”„ë¡¬í”„íŠ¸ ì‘ì„±ê³¼ ë™ì‹œì— ì½”ë“œë¥¼ ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤
- **í˜•ì‹**: í”„ë¡¬í”„íŠ¸ëŠ” ë§ˆí¬ë‹¤ìš´ ì½”ë“œ ë¸”ë¡ ì—†ì´ ìˆœìˆ˜ í…ìŠ¤íŠ¸ë¡œ ì œê³µí•©ë‹ˆë‹¤ (ì‚¬ìš©ìê°€ ë°”ë¡œ ë³µì‚¬-ë¶™ì—¬ë„£ê¸° í•  ìˆ˜ ìˆë„ë¡)

---

# ğŸ“ File Structure Rules

- **One Component per File**: í•˜ë‚˜ì˜ íŒŒì¼ì—ëŠ” í•˜ë‚˜ì˜ ì£¼ìš” `@Composable` í•¨ìˆ˜ì™€ í•´ë‹¹ `@Preview`ë§Œ ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤
- **File Length Limit**: íŒŒì¼ì´ 400ì¤„ì„ ë„˜ì–´ê°€ë©´ ì—¬ëŸ¬ íŒŒì¼ë¡œ ë¶„ë¦¬í•´ì•¼ í•©ë‹ˆë‹¤
- **Folder Structure**: í´ë”ë‹¹ íŒŒì¼ ìˆ˜ë¥¼ **15ê°œ ì´í•˜**ë¡œ ìœ ì§€í•©ë‹ˆë‹¤

---

# âš ï¸ CRITICAL RULES ì¬í™•ì¸ (íŒŒì¼ ë - ìƒŒë“œìœ„ì¹˜ ê¸°ë²•)

**ì´ íŒŒì¼ì„ ì½ì„ ë•Œ ë°˜ë“œì‹œ ìœ„ì˜ í•µì‹¬ ê·œì¹™ì„ ì¬í™•ì¸í•˜ì‹œì˜¤:**

## ìµœìš°ì„  ê·œì¹™ (ì ˆëŒ€ ë¬´ì‹œ ê¸ˆì§€)
1. **Git ì‘ì—… ì „ ê²€ì¦**: ì»¤ë°‹/í‘¸ì‹œ ëª…ë ¹ ìƒì„± ì „, í˜„ì¬ ë¸Œëœì¹˜ê°€ `main`/`develop`ì´ ì•„ë‹Œì§€ **ë°˜ë“œì‹œ ë¨¼ì € ê²€ì¦**
2. **ì‚¬ìš©ì ëª…ì‹œì  ìš”ì²­ ì—†ì´ ì ˆëŒ€ ì»¤ë°‹/í‘¸ì‹œ ê¸ˆì§€**
3. **ë¹Œë“œ ìë™ ì‹¤í–‰ ê¸ˆì§€**: ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ìš”ì²­í•˜ì§€ ì•Šìœ¼ë©´ ë¹Œë“œë¥¼ ìë™ìœ¼ë¡œ ì‹¤í–‰í•˜ì§€ ì•ŠìŒ

## í•µì‹¬ ê¸°ìˆ  ê·œì¹™
- **ViewModel ì£¼ì…**: `viewModel()` ì‚¬ìš© (ì ˆëŒ€ `hiltViewModel()` ì‚¬ìš© ê¸ˆì§€)
- **StateFlow ìˆ˜ì§‘**: `collectAsStateWithLifecycle()` ì‚¬ìš© (ì ˆëŒ€ `collectAsState()` ì‚¬ìš© ê¸ˆì§€)
- **State Hoisting**: ëª¨ë“  í™”ë©´ ìƒíƒœëŠ” ViewModelë¡œ ì´ë™
- **Preview í•„ìˆ˜**: ëª¨ë“  public Composableì— `@Preview` í•„ìˆ˜
- **Import**: ì „ì²´ import ë¬¸ í¬í•¨, í™•ì¥ í•¨ìˆ˜ ëª…ì‹œì  import, ì™€ì¼ë“œì¹´ë“œ ê¸ˆì§€

**ìœ„ ê·œì¹™ë“¤ì„ ìœ„ë°˜í•˜ë©´ ì‹¬ê°í•œ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ë“œì‹œ ì¤€ìˆ˜í•˜ì‹œì˜¤.**
