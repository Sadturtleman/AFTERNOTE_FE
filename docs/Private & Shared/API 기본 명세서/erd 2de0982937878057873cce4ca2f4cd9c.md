# erd

- 도메인 추출
    
    Core Domain (사람/관계)
    
    - User
        
        → 자기 자신의 정보만 조회, 수정
        
    - Receiver
        
        → 받는 사람
        
    - UserReceiver
        
        → 누구의 Receiver 인가..
        
        이 Receiver는 어떤 User의 수신자인가를 나타냄.
        
    
    Mind-Record Domain (기록)
    
    - DailyQuestion
        - 일일 질문
    - DailyQuestionAnswer
    - DeepThought
    - Diary
        - 일기
    - Emotion
    
    TimeLetter Domain
    
    - TimeLetter
        - 예약 발송되는 타임레터 본문
    - TimeLetterMedia
        - 이미지, 미디어 첨부
    - TimeLetterReceiver
        - 테임레터 ↔ 수신자 연결
    
    Afternote Domain
    
    - Afternote
        - 애프터노트 기본 정보
    - AfternoteCategory
    - AfternoteSecureContent
        - 아이디, 비번 같은 민감 정보
    - AfternoteAction
        - 처리 방법
    - AfternoteActionMapping
        - 애프터노트 ↔ 처리 방법 연결
    - AfternotePlaylist
    
    Auth / Audit Domain
    
    - EmailVerification
        - 이메일 인증 코드 및 검증 정보
    - RecieverAuth
        - 애프터노트, 타임레터 열람 전 인증
    - AccessLog
        - 사용자/수신자의 접근 기록
    
- 관계 정의…
    
    Core Domain
    
    - User ↔ Receiver
        - N:M
            - 한 User는 여러 Receiver를 가질 수 있고,
            - 한 Receiver는 여러 Usre의 수신자가 될 수 있음
    - UserReceiver
        
        User와 Receiver의 관계 Entity 역할…
        
    
    Mind-Record Domain
    
    - User ↔ DailyQuestionAnswer
        - 1:N
            - 한 User는 여러 데일리 질문 답변 가질 수 있으니
            - 답변은 반드시 한 User에 속하고
    - DailyQuestion ↔ DailyQuestionAnswer
        - 1:N
            - 하나의 질문에 여러 사용자 답변 가능하다.
    - User ↔ Diary
        - 1:N
            - 일기는 User 소유.
    - User ↔ DeepThought
        - 1:N
            - 깊은 생각은 User 소유.
    - User ↔ Emotion
        - Emotion은 User 기록에서 추출됨
    
    TimeLetter Domain
    
    - User ↔ TimeLetter
        - 1:N
            - 타임레터는 User 기준으로 생성
    - TimeLetter ↔ TimeLetterReceiver ↔ Receiver
        - N:M
            - 하나의 타임레터를 여러 수신자에게 보낼 수 있고
            - 한 Receiver는 여러 타임레터 받을 수 있음
    - TimeLetter ↔ TimeLetterMedia
        - 1:N
        - 하나의 타임레터에 여러 미디어 첨부 가능
    
    Afternote Domain
    
    - User ↔ Afternote
        - 1:N
            - 애프터노트는 User 소유
    - Afternote ↔ AfternoteCategory
        - N:1
            - 하나의 애프터노트는 하나의 카페고리에 속하고
            - 카테고리는 여러 애프터노트에 사용
    - Afternote ↔ AfternoteSecureContent
        - 1:1
            - 민감정본 분리하자
    - Afternote ↔ AfternoteAction ↔ AfternoteActionMapping
        - N:M
            - 하나의 에프터노트에 여러 처리 방법 선택이 가능
            - 처리 방법은 여러 애프터노트에서 재사용
    - Afternote ↔ AfternotePlaylist
        - 1:1
    
    Auth/Audit Domain
    
    - User ↔ EmailVerification
        - 1:N
            - 이메일 인증은 여러 번 발생 가능
    - Receiver ↔ ReceiverAuth
        - 1:N
            - 수신자는 로그인 없이 인증만
    - User / Receiver ↔ AccessLog
        - 1:N
            - 사용자/ 수신자의 접근 기록
                - 열람 대상은 MindRecord, TimeLetter, Afternote
                ****